# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------

window.dustcrew = angular.module "dustcrew", []

# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------

dustcrew.directive "keygen", ()->
  restrict: "C"
  controller: ($element)->
    $element.on "keydown", (e)->
      # console.log e.keyCode
      $ "[keycode=#{e.keyCode}]"
        .trigger "click"

# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------

dustcrew.controller "jack", ["$attrs", ($attrs)->
  @track = $attrs.track
  @cmdname = $attrs.cmdname
  @do = ()->
    $.ajax
      url: gon.do_path
      type: "GET"
      data:
        track: @track
        cmdname: @cmdname
]

# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------